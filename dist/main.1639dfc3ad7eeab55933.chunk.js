(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=!1;function o(t){r=t}function a(){return r}},141:function(t,e,n){"use strict";var r=n(16);n.n(r).a},144:function(t,e,n){"use strict";n.r(e);n(55),n(56),n(57);var r=n(2),o=n.n(r),a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-view")],1)};a._withStripped=!0;var i={data:function(){return{msg:"测试数据"}}},s=n(9),u=Object(s.a)(i,a,[],!1,null,null,null);u.options.__file="src/App.vue";var c=u.exports,f=n(24),l=n.n(f),p=n(17),m=n.n(p),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"fixStatusBar",rawName:"v-fixStatusBar"}],staticClass:"container"},[n("div",{staticClass:"title"},[t._v("\n    "+t._s(t.name)+"\n  ")]),t._v(" "),n("button",{on:{click:t.login}},[t._v("\n    登录\n  ")]),t._v(" "),n("button",{on:{click:t.testSaas}},[t._v("\n    测试saas\n  ")]),t._v(" "),n("button",{on:{click:t.testPass}},[t._v("\n    测试sdk\n  ")])])};d._withStripped=!0;var y=n(7),b=n.n(y),h=n(5),v=n(25),g=n(26),w=n(3);function k(t,e,n,r,o,a,i){try{var s=t[a](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function O(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){k(a,r,o,i,s,"next",t)}function s(t){k(a,r,o,i,s,"throw",t)}i(void 0)}))}}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x,j,E,T={name:"Home",data:function(){return{name:"home"}},computed:_({},Object(y.mapGetters)(["token","userInfo"])),methods:_({testSaas:(E=O(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("测试saas"),e={name:0},t.next=4,Object(g.b)(v.saasApi.bysking,[],e);case 4:n=t.sent,console.log(n),w.a.showToast("saas");case 7:case"end":return t.stop()}}),t)}))),function(){return E.apply(this,arguments)}),testPass:(j=O(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("测试pass"),e={code:"utf-8",q:"鞋",callback:"cb"},t.next=4,Object(g.a)(v.passApi.baidu,[],e);case 4:n=t.sent,console.log(n),w.a.showToast("paas");case 7:case"end":return t.stop()}}),t)}))),function(){return j.apply(this,arguments)})},Object(y.mapActions)(["setToken","setUser"]),{testStore:(x=O(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("测试dispatch"),t.next=3,this.$store.dispatch("setToken","dispatch-token");case 3:return t.next=5,this.$store.dispatch("setUser","dispatch-bysking");case 5:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)}),testStoreAction:function(){console.log("测试mapActions"),this.setToken("mapActions-token"),this.setUser("mapActions-bysking")},setData:function(){console.log("setData userInfo"),h.a.setData("userInfo",{name:"bc",test:"123"})},getData:function(){var t=h.a.getData("userInfo");console.log("userInfo",t)},clearData:function(){h.a.clearLoginData();var t=h.a.getData("userInfo");console.log("重新获取---",t)},login:function(){this.$router.push({name:"login"})}})},A=(n(141),Object(s.a)(T,d,[],!1,null,"3dd2e005",null));A.options.__file="src/views/home/Home.vue";var I=[{path:"/",name:"home",component:A.exports},{path:"/login",name:"login",meta:{quitApp:1},component:function(){return n.e(6).then(n.bind(null,145))}},{path:"/404",name:"404",meta:{quitApp:1},component:function(){return n.e(5).then(n.bind(null,146))}}];o.a.use(m.a),m.a.prototype.goBack=function(){this.isBack=!0,window.history.go(-1)};var R=new m.a({routes:I});R.beforeEach((function(t,e,n){"login"===t.name?n({name:"home"}):function(t,e,n,r){var o=t.length,a=0,i=!0;for(;a<o;){if(t[a].name===e&&t[a].children&&void 0===t[a].redirect){n.replace({name:t[a].children[0].name}),i=!1,r();break}a++}i&&r()}(I,t.name,R,n)}));var N,U=n(0);function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B={state:{token:null,userInfo:null,userPermissions:{}},actions:{setUser:function(t,e){(0,t.commit)("SET_USER",e)},removeUser:function(t){(0,t.commit)("REMOVE_USER")},setToken:function(t,e){(0,t.commit)("SET_TOKEN",e)},removeToken:function(t){(0,t.commit)("REMOVE_TOKEN")}},mutations:(D(N={},"SET_USER",(function(t,e){t.userInfo=e})),D(N,"REMOVE_USER",(function(t){t.userInfo=null})),D(N,"SET_TOKEN",(function(t,e){t.token=e})),D(N,"REMOVE_TOKEN",(function(t){t.token=null})),N),getters:{userInfo:function(t){return t.userInfo},token:function(t){return t.token}}};o.a.use(b.a);var V=new b.a.Store({modules:{user:B}}),C=n(54),$=n.n(C);o.a.use($.a),o.a.use(R),o.a.config.productionTip=!1,o.a.directive("fixStatusBar",{bind:function(t){t.style.paddingTop="undefined"==typeof api?"0px":api.safeArea.top+"px"}}),o.a.directive("fixTabBar",{bind:function(t){t.style.paddingBottom="undefined"==typeof api?"0px":api.safeArea.bottom+"px"}});var q;function K(){q=new o.a({el:"#app",store:V,router:R,render:function(t){return t(c)}}).$mount("#app")}Object(U.b)(!0),window.apiready=function(){Object(U.b)(!1),l.a.attach(document.body),K(),api.addEventListener({name:"keyback"},(function(t,e){q.$route.meta.quitApp?api.closeWidget({}):q.$router.goBack()}))},setTimeout((function(){q||(l.a.attach(document.body),K())}),2e3)},16:function(t,e,n){},17:function(t,e){t.exports=VueRouter},2:function(t,e){t.exports=Vue},24:function(t,e){t.exports=window.FastClick},25:function(t,e){t.exports={saasApi:{bysking:{path:"sug",method:"get"}},sdkApi:{},passApi:{baidu:{path:"sug",method:"get"}}}},26:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return O}));var r=n(0),o=n(3),a=n(5),i=n(52),s=n(53),u=n.n(s),c=n(23),f=n.n(c);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t){return(p="function"==typeof Symbol&&"symbol"===l(Symbol.iterator)?function(t){return l(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":l(t)})(t)}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(t,e,n,r,o,a,i){try{var s=t[a](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){d(a,r,o,i,s,"next",t)}function s(t){d(a,r,o,i,s,"throw",t)}i(void 0)}))}}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h,v=t.API_CFG,g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,s,c,l;return e=t,(n=[{key:"req",value:(l=y(regeneratorRuntime.mark((function t(e){var n,s,u,c,f,l,p,d,y,b,h,v,g,w,k,O,S,_,P,x,j,E,T,A,I,R,N;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=m(e,6),s=n[0],u=n[1],c=n[2],f=void 0===c?null:c,l=n[3],p=void 0===l?null:l,d=n[4],y=void 0!==d&&d,b=n[5],h=void 0!==b&&b,this._baseUrl=s,this._apiObj=u,this._routeParams=f,this._bodyParams=p,this._isHideLoading=y,this._isHideErrMsg=h,v=this._apiObj,g=v.path,w=v.method,g&&["get","post","delete","put"].includes(w)){t.next=11;break}return o.a.showToast("无效的apiObj"),t.abrupt("return");case 11:return y||o.a.showLoading(),k=Array.isArray(this._routeParams)&&this._routeParams.length?this.fillApi(g):g,this._bodyParams&&this.handleBodyParams(this._bodyParams),O=this._baseUrl+k+(["get","delete"].includes(w)?this.constructQueryParams():""),console.log("[http--\x3e"+w.toUpperCase()+"]",O,p),S={url:O,method:w,headers:{"X-Access-Token":a.a.getToken(),from:"bysking-app","Content-Type":"application/json"}},["post","put","delete"].includes(w)&&this._bodyParams&&(S.data=Object(r.a)()?this._bodyParams:{body:JSON.stringify(this._bodyParams)}),t.prev=18,t.next=21,this.Axios(S);case 21:return _=t.sent,o.a.hideToast(),_&&!_.data&&(_.data=_),P=_.data,x=P.ErrNo,j=P.ErrMsg,E=P.err_code,T=P.err_msg,A=P.result,h||(x&&j&&o.a.showToast(j),E&&T&&o.a.showToast(T)),t.abrupt("return",{res:A?_.data.result:_.data,err:null});case 30:return t.prev=30,t.t0=t.catch(18),o.a.hideToast(),I=t.t0.body?t.t0.body:t.t0.response.data,i.a.isString(t.t0.body)&&(I={err_msg:t.t0.body}),(R=I).err_code,(N=R.err_msg)&&!h&&o.a.showToast(N),t.abrupt("return",{res:null,err:I});case 39:case"end":return t.stop()}}),t,this,[[18,30]])}))),function(t){return l.apply(this,arguments)})},{key:"Axios",value:(c=y(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u()(e,Object(r.a)()?{withCredentials:!1}:{timeout:60,encode:!1,charset:"utf-8",dataType:"json"}),!Object(r.a)()){t.next=7;break}return t.next=4,f()(n);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,new Promise((function(t,e){api.ajax(n,(function(n,r){!r&&n||e(r),t(n)}))}));case 9:t.t0=t.sent;case 10:return t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)})},{key:"fillApi",value:function(t){var e=this,n=/:/;return n.test(t)?t.split("/").map((function(t){return n.test(t)?e._routeParams.shift():t})).join("/"):t}},{key:"handleBodyParams",value:function(t){var e=this;Object.keys(t).forEach((function(n){var r=t[n];(!r&&"number"!=typeof r&&"boolean"!=typeof r||Array.isArray(r)&&!r.length)&&delete t[n],r&&"object"===p(r)&&e.handleBodyParams(r)}))}},{key:"constructQueryParams",value:function(){var t=this;return this._bodyParams?Object.keys(this._bodyParams).reduce((function(e,n){var r=t._bodyParams[n];return e+(""===e?"?":"&")+"".concat(n,"=").concat(r)}),""):""}}])&&b(e.prototype,n),s&&b(e,s),t}(),w=(h=null,{getInstance:function(){return h||(h=new g),h}});function k(){for(var t=Object(r.a)()?"/pass/":v.passport,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return w.getInstance().req([t].concat(n))}function O(){var t=Object(r.a)()?"/saas/":v.saas;console.log("baseUrl",t);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return w.getInstance().req([t].concat(n))}}).call(this,n(27))},3:function(t,e,n){"use strict";var r,o=n(2),a=new(n.n(o).a);function i(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"txt";(r=a.$createToast({type:o,txt:t,mask:e,time:n})).show()}e.a={showToast:function(t){i(t)},showLoading:function(){i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"加载中...",!0,0,"loading")},hideToast:function(){r&&r.hide()}}},5:function(t,e,n){"use strict";var r=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return(a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)})(t)}function i(t,e,n,r,o,a,i){try{var s=t[a](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}var s={TOKEN:"token",USER_INFO:"userInfo",PROVINCES:"provinces",ENV:"env"},u={};function c(){var t;return t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,e){setTimeout((function(){for(var e in s)f(s[e]);t()}),500)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})),(c=function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,u,"next",t)}function u(t){i(a,r,o,s,u,"throw",t)}s(void 0)}))}).apply(this,arguments)}function f(t){var e=u[t]||null;e=Object(r.a)()?localStorage.getItem(t):api.getPrefs({sync:!0,key:t});try{return JSON.parse(e)}catch(t){console.log(t)}return e}e.a={Keys:s,init:function(){return c.apply(this,arguments)},setData:function(t,e){2===arguments.length&&(u[t]=e,"object"===a(e)&&(e=JSON.stringify(e)),Object(r.a)()?localStorage.setItem(t,e):api.setPrefs({key:t,value:e}))},getData:f,getToken:function(){return f(s.TOKEN)},getUserInfo:function(){return f(s.USER_INFO)},getEnv:function(){return f(s.ENV)},clearLoginData:function(){if(u={},Object(r.a)())for(var t in s)"provinces"!==s[t]&&localStorage.removeItem(s[t]);else for(var e in s)"provinces"!==s[e]&&api.removePrefs({key:s[e]})}}},52:function(t,e,n){"use strict";e.a={isString:function(t){return t===t+""}}},55:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){},7:function(t,e){t.exports=Vuex}},[[144,0,1,4]]]);